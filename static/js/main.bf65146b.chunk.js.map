{"version":3,"sources":["redux/actions/films.js","components/Header.jsx","components/FilmCard.jsx","components/Loader.jsx","pages/Home.jsx","components/InfoItem.jsx","redux/actions/slider.js","components/Slider.jsx","pages/FilmPage.jsx","App.js","redux/redusers/films.js","redux/redusers/slider.js","redux/redusers/index.js","redux/store.js","index.js"],"names":["loadFilms","films","type","payload","headers","Header","React","useState","filmName","setFilmName","dispatch","useDispatch","searchByName","name","a","fetch","res","json","useEffect","className","to","placeholder","value","onChange","e","target","src","alt","width","height","FilmCard","film","nameRu","year","onClick","id","filmId","getId","posterUrlPreview","Loader","Home","useSelector","isLoaded","length","map","item","InfoItem","memo","infoItem","i","spoilerInit","setSpoilerInit","title","genre","frameBorder","allow","allowFullScreen","loadFrames","fr","changeCounter","val","Slider","count","position","frames","frame","image","style","index","margin","display","marginTop","borderRadius","transition","zIndex","opacity","viewBox","fill","xmlns","d","FilmPage","setFilm","trailerId","setTrailerId","slider","autoSlider","sliderCount","slidePosition","console","log","loadFilmInfo","data","loadTrailer","trailers","trailerArr","filter","site","url","includes","split","_","join","reverse","loadSlider","framesArr","itemArr","countries","country","genres","description","facts","autoSliderInit","nameEn","App","path","component","exact","initialState","state","action","correctPosition","document","body","clientWidth","rootReduser","combineReducers","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bf65146b.chunk.js","sourcesContent":["export const loadFilms = (films) => ({\r\n    type: 'LOAD_FILMS',\r\n    payload: films,\r\n});\r\n\r\nexport const isLoaded = () => ({\r\n    type: 'LOADING'\r\n});\r\n\r\nexport const getId = (id) => ({\r\n    type: 'GET_ID',\r\n    payload: id,\r\n});","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { loadFilms, isLoaded } from '../redux/actions/films'\r\n\r\nconst headers = {\r\n    'X-API-KEY': '41bf77c1-b2b8-4711-b6b6-76cf890ced57',\r\n};\r\n\r\nconst Header = () => {\r\n\r\n    const [filmName, setFilmName] = React.useState('');\r\n    const dispatch = useDispatch();\r\n\r\n    const handleChange = (value) => {\r\n        setFilmName(value)\r\n    };\r\n\r\n    const searchByName = async (name) => {\r\n        dispatch(isLoaded());\r\n        const res = await fetch(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${name}`, { headers });\r\n        const { films } = await res.json();\r\n        dispatch(loadFilms(films));\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        searchByName(filmName);\r\n    });\r\n\r\n    return (\r\n        <div className='headerWrapper'>\r\n            <div className='headerItems'>\r\n                <Link to='/'>\r\n                    <h1>ALL FILMS</h1>\r\n                </Link>\r\n                <Link to='/'>\r\n                    <input\r\n                        type='text'\r\n                        placeholder='Введите название'\r\n                        value={filmName}\r\n                        onChange={e => handleChange(e.target.value)}>\r\n                    </input>\r\n                </Link>\r\n                <img src='https://cdn1.iconfinder.com/data/icons/jumpicon-basic-ui-line-1/32/-_Magnifier-Search-Zoom--512.png'\r\n                    alt='magnifier'\r\n                    width='25px'\r\n                    height='25px'>\r\n                </img>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { getId } from '../redux/actions/films';\r\n\r\nconst FilmCard = ({ film }) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleCange = (id) => {\r\n        dispatch(getId(id));\r\n    };\r\n\r\n    return (\r\n        <div className='cardWrapper'>\r\n            <h3 className='cardName'>{film.nameRu}</h3>\r\n            <h4>{`(${film.year})`}</h4>\r\n            <Link to='/filmPage'>\r\n                <img\r\n                    onClick={() => handleCange(film.filmId)}\r\n                    className='cardImg'\r\n                    alt='Poster'\r\n                    src={film.posterUrlPreview}>\r\n                </img>\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilmCard","const Loader = () => <div className='loader'></div>\r\n\r\nexport default Loader;","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport FilmCard from '../components/FilmCard';\r\nimport Loader from '../components/Loader';\r\n\r\nconst Home = () => {\r\n\r\n    const { films, isLoaded } = useSelector(({ films }) => films);\r\n\r\n    return (\r\n        <div className='filmsWrapper'>\r\n            {!isLoaded ? <Loader />\r\n                : !films.length ? <h1>Начните что нибудь искать :)</h1>\r\n                    : films.map((item, id) => <FilmCard key={id} film={item} />)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home","import React from 'react'\r\n\r\nconst InfoItem = React.memo(function InfoItem({ infoItem, i }) {\r\n    const [spoilerInit, setSpoilerInit] = React.useState(false);\r\n\r\n    const handleClick = () => {\r\n        setSpoilerInit(!spoilerInit);\r\n    };\r\n\r\n    return (\r\n        <div className={`infoItem ${(!infoItem.item || !infoItem.item.length) ? 'hide' : ''}`}>\r\n            <h3>{infoItem.title}</h3>\r\n            {\r\n                i === 1 ? <ul>{infoItem.item.map((item, i) => <li key={i}>{item.genre}</li>)}</ul>\r\n                    : i === 3 ? (\r\n                        <details>\r\n                            <summary onClick={handleClick}>\r\n                                {!spoilerInit ? 'Показать' : 'Скрыть'}\r\n                            </summary>\r\n                            <ul>{infoItem.item.map((item, i) => <li key={i}>{item}</li>)}</ul>\r\n                        </details>\r\n                    )\r\n                        : i === 4 ? (\r\n                            <div className='trailerBlock'>\r\n                                <iframe\r\n                                    width=\"660\"\r\n                                    height=\"415\"\r\n                                    src={`https://www.youtube.com/embed/${infoItem.item}`}\r\n                                    frameBorder=\"0\"\r\n                                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                                    allowFullScreen>\r\n                                </iframe>\r\n                            </div>\r\n                        )\r\n                            : <p>{infoItem.item}</p>\r\n            }\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default InfoItem","export const loadFrames = (fr) => ({\r\n    type: 'LOAD_FRAMES',\r\n    payload: fr\r\n});\r\n\r\nexport const changeCounter = (val) => ({\r\n    type: 'CHANGE_COUNTER',\r\n    payload: val\r\n});\r\n\r\nexport const changeSlidePosition = () => ({\r\n    type: 'SLIDE_POSITION'\r\n});","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { changeCounter } from '../redux/actions/slider';\r\n\r\nconst Slider = ({ count, position, frames }) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const slideFoward = () => {\r\n        dispatch(changeCounter(count === frames.length - 1 ? 0 : ++count));\r\n    };\r\n\r\n    const slideBack = () => {\r\n        dispatch(changeCounter(count === 0 ? frames.length - 1 : --count));\r\n    };\r\n\r\n    const slideStyles = (index) => (\r\n        {\r\n            margin: '0 auto',\r\n            display: 'block',\r\n            marginTop: `${index > 0 ? `-${position}` : ''}`,\r\n            borderRadius: '3px',\r\n            transition: '1.5s',\r\n            zIndex: index + 1,\r\n            opacity: `${index === count ? '100%' : '0'}`\r\n        }\r\n    );\r\n\r\n    React.useEffect(() => {\r\n        dispatch(changeCounter(0));\r\n    }, []);\r\n\r\n    return (\r\n        <div className='sliderWrapper'>\r\n            <div className='sliderBlock'>\r\n                {frames.length\r\n                    ? frames.map((frame, id) => <img alt='frame' key={id} src={frame.image} style={slideStyles(id)} />)\r\n                    : <img alt='no-frame' src='https://argamak-sher.uz/wp-content/uploads/no-image.png'></img>}\r\n            </div>\r\n            <div className={`sliderBtnBlock ${!frames.length ? 'hide' : ''}`}>\r\n                <button onClick={slideBack}>\r\n                    <svg\r\n                        className=\"left\"\r\n                        width=\"50\"\r\n                        height=\"50\"\r\n                        viewBox=\"0 0 10 6\"\r\n                        fill=\"none\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                        <path\r\n                            d=\"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\"\r\n                            fill=\"black\"\r\n                        />\r\n                    </svg>\r\n                </button>\r\n                <button onClick={slideFoward}>\r\n                    <svg\r\n                        className=\"right\"\r\n                        width=\"50\"\r\n                        height=\"50\"\r\n                        viewBox=\"0 0 10 6\"\r\n                        fill=\"none\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                        <path\r\n                            d=\"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\"\r\n                            fill=\"black\"\r\n                        />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Slider","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport InfoItem from '../components/InfoItem'\r\nimport Slider from '../components/Slider';\r\nimport Loader from '../components/Loader';\r\nimport { changeSlidePosition, loadFrames } from '../redux/actions/slider';\r\n\r\nconst headers = {\r\n    'X-API-KEY': '41bf77c1-b2b8-4711-b6b6-76cf890ced57',\r\n};\r\n\r\nconst FilmPage = React.memo(function FilmPage() {\r\n    const [film, setFilm] = React.useState(null);\r\n    const [trailerId, setTrailerId] = React.useState('');\r\n\r\n    const { id } = useSelector(({ films }) => films);\r\n    const { autoSlider, sliderCount, slidePosition, frames } = useSelector(({ slider }) => slider);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    console.log(id);\r\n\r\n    const loadFilmInfo = async (id) => {\r\n        const res = await fetch(`https://kinopoiskapiunofficial.tech/api/v2.1/films/${id}`, { headers });\r\n        const { data } = await res.json();\r\n        setFilm(data);\r\n    };\r\n\r\n    const getTrailerId = (url) => {\r\n        if (url.includes('=')) {\r\n            return url.split('=').filter((_, id) => id === 1).join();\r\n        } else {\r\n            return url.split('').reverse().join('').split('/')[0].split('').reverse().join('');\r\n        }\r\n    };\r\n\r\n    const loadTrailer = async (id) => {\r\n        try {\r\n            const res = await fetch(`https://kinopoiskapiunofficial.tech/api/v2.1/films/${id}/videos`, { headers });\r\n            const { trailers } = await res.json();\r\n            const trailerArr = trailers.filter(item => item.site === 'YOUTUBE');\r\n            const trailerId = getTrailerId(trailerArr[0].url);\r\n            setTrailerId(trailerId);\r\n            console.log(trailers);\r\n        } catch (error) {\r\n            setTrailerId('');\r\n            console.log(error);\r\n        };\r\n    };\r\n\r\n    const loadSlider = async (id) => {\r\n        try {\r\n            const res = await fetch(`https://kinopoiskapiunofficial.tech/api/v2.1/films/${id}/frames`, { headers });\r\n            const { frames } = await res.json();\r\n            const framesArr = frames.filter((_, id) => id < 15);\r\n            dispatch(loadFrames(framesArr));\r\n        } catch (error) {\r\n            dispatch(loadFrames([]));\r\n        };\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        loadFilmInfo(id);\r\n        loadTrailer(id);\r\n        loadSlider(id);\r\n        dispatch(loadFrames([]));\r\n        dispatch(changeSlidePosition());\r\n    }, []);\r\n\r\n    const itemArr = [\r\n        {\r\n            title: 'Страна',\r\n            item: !film ? [] : film.countries[0].country\r\n        },\r\n        {\r\n            title: 'Жанр',\r\n            item: !film ? [] : film.genres\r\n        },\r\n        {\r\n            title: 'Описание',\r\n            item: !film ? [] : film.description\r\n        },\r\n        {\r\n            title: 'Факты',\r\n            item: !film ? [] : film.facts\r\n        },\r\n        {\r\n            title: 'Трейлер',\r\n            item: trailerId\r\n        }\r\n    ];\r\n\r\n    // console.log(itemArr);\r\n\r\n    return (\r\n\r\n        <div className='filmPage'>\r\n            {!film ? <Loader />\r\n                : (\r\n                    <div className='filmBlock'>\r\n                        <Slider\r\n                            id={id}\r\n                            autoSliderInit={autoSlider}\r\n                            count={sliderCount}\r\n                            position={slidePosition}\r\n                            frames={frames}\r\n                        />\r\n                        <div className='infoWrapper'>\r\n                            <img className='desctopPoster'\r\n                                src={film.posterUrlPreview}\r\n                                alt='poster'>\r\n                            </img>\r\n                            <div className='infoBlock'>\r\n                                <div className='nameBlock'>\r\n                                    <img className='mobilePoster'\r\n                                        src={film.posterUrlPreview}\r\n                                        alt='poster'>\r\n                                    </img>\r\n                                    <div>\r\n                                        <h1>{film.nameRu}</h1>\r\n                                        <span><p>{`${film.nameEn} (${film.year})`}</p></span>\r\n                                    </div>\r\n                                </div>\r\n                                {itemArr.map((item, index) => <InfoItem key={index} infoItem={item} i={index} />)}\r\n                                <div className='infoItem'>\r\n                                    <Link to='/'><h4>Вернутся на главную</h4></Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default FilmPage","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport Header from './components/Header';\nimport Home from './pages/Home';\nimport FilmPage from './pages/FilmPage';\n\nconst App = () => {\n  return (\n    <div>\n      <Header />\n      <Route path='/' component={Home} exact />\n      <Route path='/filmPage' component={FilmPage} exact />\n    </div>\n  );\n}\n\nexport default App;\n","const initialState = {\r\n    films: null,\r\n    isLoaded: false,\r\n    id: null,\r\n};\r\n\r\nconst films = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'LOADING':\r\n            return {\r\n                ...state,\r\n                isLoaded: false\r\n            }\r\n\r\n        case 'LOAD_FILMS':\r\n            return {\r\n                ...state,\r\n                films: action.payload,\r\n                isLoaded: true\r\n            }\r\n\r\n        case 'GET_ID':\r\n            return {\r\n                ...state,\r\n                id: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    };\r\n};\r\n\r\nexport default films","const initialState = {\r\n    frames: [],\r\n    sliderCount: 1,\r\n    slidePosition: null,\r\n};\r\n\r\nconst correctPosition = () => {\r\n    const width = document.body.clientWidth;\r\n    if (width <= 950 && width >= 360) {\r\n        return '340px';\r\n    } else if (width <= 350) {\r\n        return '300px';\r\n    };\r\n    return '440px';\r\n};\r\n\r\nconst slider = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'LOAD_FRAMES':\r\n            return {\r\n                ...state,\r\n                frames: action.payload\r\n            }\r\n\r\n        case 'CHANGE_COUNTER':\r\n            return {\r\n                ...state,\r\n                sliderCount: action.payload\r\n            }\r\n\r\n        case 'SLIDE_POSITION':\r\n            return {\r\n                ...state,\r\n                slidePosition: correctPosition()\r\n            }\r\n\r\n        default:\r\n            return state\r\n    };\r\n};\r\n\r\nexport default slider;","import { combineReducers } from 'redux';\r\n\r\nimport films from './films'\r\nimport slider from './slider'\r\n\r\nconst rootReduser = combineReducers({\r\n    films,\r\n    slider\r\n});\r\n\r\nexport default rootReduser;","import { createStore } from 'redux';\r\n\r\nimport rootReduser from './redusers/index';\r\n\r\nconst store = createStore(rootReduser, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n\r\nimport App from './App';\r\nimport './scss/app.scss';\r\n\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </Router>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}